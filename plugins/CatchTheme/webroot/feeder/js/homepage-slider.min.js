!function(e){e(function(){let t=!1,n=e(".banner-container"),i=document.getElementsByClassName("fizzy-bubble-container"),a=document.getElementsByClassName("bubble-image"),o=document.getElementById("banner"),l=i.length,b={bubble:e(".bubble-2"),key:2},r=void 0,s=void 0,f=e(window).width(),u=!1,c=[],d=!1;function y(t){u=!1,t.find(".bubble-wrapper").removeClass("hovering"),e("#hover-background").stop().fadeOut(200),setTimeout(function(){if(!t.find(".bubble-wrapper").hasClass("hovering")&&(t.removeClass("selected"),e(window).scrollTop()<530))if(d){if(!c[t.attr("data-index")]){let e=t.css("transform").split(",");m(parseInt(e[4]),parseInt(e[5]),t.attr("data-index"))}}else c[t.attr("data-index")].play()},200)}function z(){if(e(window).scrollTop()>530){if(t){for(let e=0;e<c.length;e++)d?clearInterval(c[e]):c[e].pause();t=!1}}else if(!t){if(d)h();else for(let e=0;e<c.length;e++)c[e].play();t=!0}}function h(){for(let e=0;e<i.length;e++)m(0,0,e)}function m(e,t,n){let a=50*Math.random()-25,o=50*Math.random()-25,l=1e3*Math.random()+3500;if(d){let b=void 0,r=void 0,s=1/(l/17),f=0,u=setInterval(function(){f>=1?(clearInterval(c[n]),m(b,r,n)):(b=e+(a-e)*f,r=t+(o-t)*f,i[n].style.transform="translate("+b+"px, "+r+"px) rotate("+.02*f+"deg)",f+=s)},17);c[n]=u}else c[n]=i[n].animate([{transform:"translate("+e+"px, "+t+"px) rotate(0deg)"},{transform:"translate("+a+"px, "+o+"px) rotate(0.02deg)"}],{duration:l,iteration:1}),c[n].onfinish=function(){c[n].cancel(),m(a,o,n)}}e(document).ready(function(){try{i[0].animate([{transform:"translate(0px)"},{transform:"translate(0px)"}],{duration:1,iteration:1})}catch(e){d=!0}(f=e(window).width())>1023?(d?z():h(),s="fizzy"):(f>767?(s="tablet",r=204*l):(s="mobile",r=132*(l-1)+218),w=f/2-b.bubble.width()/4,g=f/2-r,e(".banner-container").width(r),X(b)),e(window).scroll(function(){"fizzy"===s&&z()}),e(window).resize(function(){if((f=e(window).width())<1024){if("fizzy"===s){for(let e=0;e<c.length;e++)d?clearInterval(c[e]):c[e].cancel();d&&e(".fizzy-bubble-container").stop().attr("style",""),t=!1,X(b)}f>767?(s="tablet",M()):(s="mobile",e(".fizzy-bubble-container").attr("style",""),e(".fizzy-bubble-container .bubble-image").attr("style",""),r=132*(l-1)+218,e(".banner-container").width(r),k(),n.stop(),X(b)),w=f/2-b.bubble.width()/4,g=f/2-r}else f>=1024&&("mobile"===s||"tablet"===s)&&(s="fizzy",d?z():h(),n.attr("style",""),e(".fizzy-bubble-container").attr("style",""),e(".fizzy-bubble-container .bubble-image").attr("style",""))})}),e("#bubble-banner .bubble-image").on("dragstart",function(e){e.preventDefault()}),e(".fizzy-bubble-container").hover(function(){"fizzy"===s&&(u=e(this),d?(clearInterval(c[u.attr("data-index")]),c[u.attr("data-index")]=!1):c[u.attr("data-index")].pause(),u.addClass("selected").find(".bubble-wrapper").addClass("hovering"),e("#hover-background").stop().fadeIn(200))},function(){"fizzy"===s&&y(e(this))});let p=void 0,v=0,w=void 0,g=void 0,x=[],C=!1,I=e("body");function k(){let e=f/2-100.5;(x=[]).push(e);for(let t=1;t<l;t++)x.push(e-134.703125*t)}function E(t){(v-=p-t)>w?v=w:v<g?v=g:(n.css("left",v+"px"),p=t,"tablet"===s?M():function(){let t=Number.MAX_VALUE,n={bubble:void 0,key:void 0};e(".fizzy-bubble-container").each(function(i){let a=e(this);if(a.offset().left<-100||a.offset().left>f)return;let o=Math.abs(B(a,201));o<t&&(t=o,n.bubble=a,n.key=i)}),n.bubble[0]!==b.bubble[0]&&(b.bubble.removeClass("active"),n.bubble.addClass("active"),b=n)}())}function M(){let t=0;e(".fizzy-bubble-container").each(function(n){let o=e(this),l=Math.abs(B(o,o.width())),r=2.55-(2.55-1)/(f/2)*l,s=316-180/(f/2)*l;r<1&&(r=1),s<122?t+=(s=122)+25:(l<135.5&&b.key!==n&&(b.bubble.removeClass("active"),o.addClass("active"),b.bubble=o,b.key=n),a[n].style.transform="scale("+r+")",i[n].style.width=s+"px",t+=s+20)}),o.style.width=t+"px",g=f/2-t}function X(e){if("tablet"===s){let e=B(b.bubble,b.bubble.width());v+=e/2,n.animate({left:v},{step:function(){M()},duration:200,easing:"swing"})}else v=x[e.key],n.animate({left:v},200,"swing")}function B(e,t){return f/2-(e.length?e.offset().left+t/2:0)}k(),n.on("touchstart",function(e){"fizzy"!==s&&(p=e.touches[0].clientX)}),n.on("mousedown",function(e){"fizzy"!==s&&(C=!0,p=e.originalEvent.clientX)}),n.on("touchmove",function(e){"fizzy"!==s&&(e.preventDefault(),E(e.touches[0].clientX))}),I.on("mousemove",function(e){"fizzy"!==s&&C&&E(e.originalEvent.clientX)}),n.on("touchend",function(){"fizzy"!==s?X(b):u&&y(u)}),I.on("mouseup",function(){"fizzy"!==s&&C&&(X(b),C=!1)}),I.on("mouseleave",function(){"fizzy"!==s&&C&&(X(b),C=!1)})})}(jQuery);