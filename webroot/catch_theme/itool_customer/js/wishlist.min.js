!function(t){t.fn.wishlistify=function(s){var e=t.extend({},{heartCount:7,heartTravelDistance:80,animationDuration:2500,itemCountSpanClass:".wishlist-item-count"},s),i={this:this,settings:e,init:function(){i.this.filter("a").each(function(){t(this).click(function(s){s.stopImmediatePropagation(),s.preventDefault();var a,n,r,o,d=t(this);d.hasClass("add")?(a=d.data("href-add"),o="add",r="add",n="remove"):(a=d.data("href-remove"),o="remove",r="remove",n="add");var l=d.find(".wishlist-icon"),h=t(this).closest(".surprise-item.card").clone();try{t("#register-wishlist-item-id").val("")}catch(s){}if(d.hasClass("no-animation")||t("body").hasClass("wishlist")&&(void 0===catcher.wishlistIsEmpty||!catcher.wishlistIsEmpty)||(l.addClass("engorgio"),setTimeout(function(){l.removeClass("engorgio").addClass("reducio");for(var s=0;s<e.heartCount;s++){var i=t('<div class="heart-animation heart-'+s+" "+r+'"></div>');d.append(i),i.animate({right:"+="+Math.round(Math.random()*(2*e.heartTravelDistance)-e.heartTravelDistance),top:"+="+Math.round(Math.random()*(2*e.heartTravelDistance)-e.heartTravelDistance),opacity:0},e.animationDuration,"easeOutCubic",function(){t(this).remove()})}},500),setTimeout(function(){l.removeClass("reducio")},700)),window.userLogedIn)t.ajax({url:a,method:"GET",success:function(s){try{if(s.response.redirect)return void(window.location=s.response.redirect);if(s.response.success){if(window.localStorage.setItem("pandata_wishlist_added_product_name",s.response.item_name),window.localStorage.setItem("pandata_wishlist_added_product_sku",s.response.item_sku),window.localStorage.setItem("pandata_wishlist_added_product_category",d.data("category-id")),d.hasClass("add")?pushEcommerce("addToWishlist"+(d.hasClass("from-minicart")?"FromMiniCart":""),null):pushEcommerce("removeFromWishlist"+(d.hasClass("from-minicart")?"FromMiniCart":""),null),i.handleItemCount(o),d.addClass(n).removeClass(r),l.addClass(n).removeClass(r),void 0!==window.reloadAfterWishlistAdd&&window.reloadAfterWishlistAdd){var e=h.find(".wishlist-icon"),a=h.find(".wishlist-item-link");setTimeout(function(){t("#empty-wishlist").slideUp("slow"),t("#surprise-item-headline").hide(),t("#surprise-item-row").hide(),t("#wishlist-items-container").show(),t(".browse-row").html('<div class="col-6 col-md-4 browse-col"></div>'),h.removeClass("surprise-item"),h.find("a.surprise-item-link").removeClass("surprise-item-link"),h.find(".deals-badge").remove(),e.removeClass("add"),e.addClass("remove"),a.removeClass("add"),a.addClass("remove"),a.attr("href",a.data("href-remove")),a.attr("data-category-id","WishList"),h.appendTo(".browse-col")},1e3)}if(void 0!==window.reloadAfterWishlistRemove&&window.reloadAfterWishlistRemove){if(l.hasClass("add"))l.append('<div class="removed-text"><p>Entfernt</p><a>Wieder hinzuf√ºgen</a></div>');else{var m=l.find(".removed-text");void 0!==m&&m.remove()}t(i.settings.itemCountSpanClass).data("count")}}}catch(t){}},error:function(){}});else{t(".to-many-items-alert")&&t(".to-many-items-alert").children().length&&t(".wishlist-popup-alert").fadeOut(500),t("#wishlist").trigger("click");try{t("#register-wishlist-item-id").val(d.data("item-id"))}catch(s){}window.userLoginCallback=function(){t.ajax({url:a,method:"GET",success:function(t){try{if(t.response.redirect)return void(window.location=t.response.redirect);t.response.success&&(d.addClass(n).removeClass(r),l.addClass(n).removeClass(r))}catch(t){}},error:function(){}})}}d.parent(".links-box").length&&(d.hasClass("add")?(t(".mini-cart-wrapper").data("iways-mini_cart").softRefresh(3512),d.parent(".links-box").siblings(".wishlist-box").slideDown(256).delay(3e3).slideUp(256)):t(".mini-cart-wrapper").data("iways-mini_cart").softRefresh())})})},handleItemCount:function(s){if(t(i.settings.itemCountSpanClass).length){var e=t(i.settings.itemCountSpanClass).data("count");"add"===s?e++:e--,this.showItemCount(e)}},showItemCount:function(s){try{var e;s<100?(e=s,t(i.settings.itemCountSpanClass).hasClass("three-digit")&&t(i.settings.itemCountSpanClass).removeClass("three-digit")):(e="99+",t(i.settings.itemCountSpanClass).hasClass("three-digit")||t(i.settings.itemCountSpanClass).addClass("three-digit")),t(i.settings.itemCountSpanClass).data("count",s),t(i.settings.itemCountSpanClass).html(e),s<1?(t(i.settings.itemCountSpanClass).hide(),t(i.settings.itemCountSpanClass).data("count",0)):t(i.settings.itemCountSpanClass).show()}catch(t){}}};return i.init(),i}}(jQuery),function(t){t(function(){void 0!==catcher.wishlistIsEmpty&&catcher.wishlistIsEmpty?t("#wishlist-items-container").hide():t("#wishlist-items-container").show(),t(".wishlist-item-link").wishlistify()})}(jQuery);